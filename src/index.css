@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* RTL Support */
html {
  direction: rtl;
  /* Mobile performance optimizations */
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  font-family: 'Heebo', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* Prevent horizontal scroll on mobile */
  overflow-x: hidden;
  max-width: 100vw;
  
  /* Mobile performance optimizations */
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-overflow-scrolling: touch;
}

/* Enhanced RTL utilities */
.text-start {
  text-align: right;
}

.text-end {
  text-align: left;
}

/* Mobile-first responsive font loading */
@media (max-width: 767px) {
  body {
    font-size: 16px; /* Minimum readable size on mobile */
    line-height: 1.5;
  }
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

/* Enhanced retina image support with mobile responsiveness */
.retina-image-container {
  width: 360px;
  height: 540px;
  border-radius: 0.75rem; /* Tailwind's rounded-xl */
  overflow: hidden;
  position: relative;
  margin: 0 auto;
  /* Mobile performance optimization */
  transform: translateZ(0);
  will-change: transform;
}

.retina-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
  /* Enhanced image rendering for all devices */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  image-rendering: auto;
  /* Performance optimization */
  transform: translateZ(0);
}

/* Enhanced responsive behavior for mobile devices */
@media (max-width: 640px) {
  .retina-image-container {
    width: 280px;
    height: 420px;
    max-width: 90vw;
    height: auto;
    aspect-ratio: 2/3;
  }
}

@media (max-width: 480px) {
  .retina-image-container {
    width: 240px;
    height: 360px;
    max-width: 85vw;
  }
}

/* Extra small mobile devices */
@media (max-width: 360px) {
  .retina-image-container {
    width: 200px;
    height: 300px;
    max-width: 90vw;
  }
}

/* High-DPI screen optimizations for all devices */
@media (-webkit-min-device-pixel-ratio: 2),
       (min-resolution: 192dpi),
       (min-resolution: 2dppx) {
  .retina-image {
    /* Additional sharpening for retina displays */
    image-rendering: -webkit-optimize-contrast;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

/* Global mobile image optimization */
img {
  max-width: 100%;
  height: auto;
  /* Improve image loading performance */
  image-rendering: auto;
}

/* Responsive image utilities */
.responsive-image {
  width: 100%;
  height: auto;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.responsive-image:hover {
  transform: scale(1.05);
}

/* Mobile-optimized smooth scrolling */
* {
  scroll-behavior: smooth;
}

/* Prevent zoom on input focus (iOS) */
@media (max-width: 767px) {
  input, textarea, select {
    font-size: 16px !important;
  }
}

/* Enhanced touch interactions */
@media (hover: none) and (pointer: coarse) {
  /* Mobile-specific hover states */
  .hover\:scale-105:hover {
    transform: scale(1.02);
  }
  
  /* Better touch feedback */
  button:active,
  a:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* Mobile keyboard viewport fix */
@media (max-width: 767px) {
  .mobile-viewport-fix {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Improve focus indicators for accessibility */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible {
  outline: 2px solid #DA9B28;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Better loading states for images */
.loading-placeholder {
  background: linear-gradient(90deg, #f0f0f0 25%, transparent 37%, #f0f0f0 63%);
  background-size: 400% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

@keyframes shimmer {
  0% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Mobile-specific text selection */
@media (max-width: 767px) {
  ::selection {
    background-color: #DA9B28;
    color: #0C2C48;
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
